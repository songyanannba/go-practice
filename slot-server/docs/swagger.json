{
    "swagger": "2.0",
    "info": {
        "title": "API Document",
        "contact": {},
        "version": "0.0.1"
    },
    "basePath": "/",
    "paths": {
        "/seamless/authenticate": {
            "post": {
                "description": "打开游戏时，供应商将收到由娱乐场运营商生成的 URL 安全令牌。使用此令牌将要求娱乐场运营商进行玩家身份验证并获取玩家余额。",
                "tags": [
                    "Seamless-Operator"
                ],
                "summary": "Authenticate",
                "parameters": [
                    {
                        "description": "请求参数",
                        "name": "RequestParams",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/seamlessWallet.AuthReq"
                        }
                    }
                ],
                "responses": {
                    "0": {
                        "description": "",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/seamlessWallet.PlayerAmount"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/seamless/balance": {
            "post": {
                "description": "通过此方法，供应商系统能知道玩家的当前余额并显示在游戏中",
                "tags": [
                    "Seamless-Operator"
                ],
                "summary": "Balance",
                "parameters": [
                    {
                        "description": "请求参数",
                        "name": "RequestParams",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/seamlessWallet.BalanceReq"
                        }
                    }
                ],
                "responses": {
                    "0": {
                        "description": "",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/seamlessWallet.PlayerAmount"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/seamless/bet": {
            "post": {
                "description": "此方法将会返回玩家的下注金额，运营商需确保玩家余额足够支付下注并扣除,如失败或异常请返回code 7\n余额不足时导致的错误可返回code 10，并需在data中携带playerBalance字段(此时玩家的真实余额)，客户端将依据此字段更新余额显示",
                "tags": [
                    "Seamless-Operator"
                ],
                "summary": "Bet",
                "parameters": [
                    {
                        "description": "请求参数",
                        "name": "RequestParams",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/seamlessWallet.BetReq"
                        }
                    }
                ],
                "responses": {
                    "0": {
                        "description": "playerBalance为扣除下注后的余额",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/seamlessWallet.BetAck"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/seamless/closeGame": {
            "post": {
                "description": "关闭游戏",
                "tags": [
                    "Seamless-Provider"
                ],
                "summary": "CloseGame",
                "parameters": [
                    {
                        "description": "请求参数",
                        "name": "RequestParams",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/seamlessWallet.CloseGameParams"
                        }
                    }
                ],
                "responses": {
                    "0": {
                        "description": "",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/seamless/gameList": {
            "post": {
                "description": "游戏列表",
                "tags": [
                    "Seamless-Provider"
                ],
                "summary": "GameList",
                "parameters": [
                    {
                        "description": "请求参数",
                        "name": "RequestParams",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/seamlessWallet.GameListParams"
                        }
                    }
                ],
                "responses": {
                    "0": {
                        "description": "",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/seamlessWallet.GameListRes"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/seamless/historyList": {
            "post": {
                "description": "历史记录列表 playerName gameId transactionId date 为可选字段. status 1 玩家已开始游戏回合但尚未结束 2 玩家已完成游戏回合 3 游戏回合在数据库中被标记为已完成；但是Result请求没有得到正确回复 9 游戏回合被游戏回合结束流程⾃动关闭 10退款处于异步队列中并正被发送给运营商",
                "tags": [
                    "Seamless-Provider"
                ],
                "summary": "HistoryList",
                "parameters": [
                    {
                        "description": "请求参数",
                        "name": "RequestParams",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/seamlessWallet.HistoryListParams"
                        }
                    }
                ],
                "responses": {
                    "0": {
                        "description": "",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/seamlessWallet.History"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/seamless/openGame": {
            "post": {
                "description": "通过这种方法，运营商可以接收到所请求游戏的有效启动 URL。",
                "tags": [
                    "Seamless-Provider"
                ],
                "summary": "OpenGame",
                "parameters": [
                    {
                        "description": "请求参数",
                        "name": "RequestParams",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/seamlessWallet.OpenGameParams"
                        }
                    }
                ],
                "responses": {
                    "0": {
                        "description": "URL将在data中返回",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/seamless/refund": {
            "post": {
                "description": "当收到退款请求时，运营商必须将钱退还给玩家 调用是幂等的，例如再次为现有投注发送退款只会创建一笔交易。此接口在失败时会定时重试,token字段为空。",
                "tags": [
                    "Seamless-Operator"
                ],
                "summary": "Refund",
                "parameters": [
                    {
                        "description": "请求参数",
                        "name": "RequestParams",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/seamlessWallet.RefundReq"
                        }
                    }
                ],
                "responses": {
                    "0": {
                        "description": "",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/seamlessWallet.RefundAck"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        },
        "/seamless/result": {
            "post": {
                "description": "此接口在失败时会定时重试,token字段为空，运营商需根据交易id保证在玩家赢得奖金时支付奖金的幂等性",
                "tags": [
                    "Seamless-Operator"
                ],
                "summary": "Result",
                "parameters": [
                    {
                        "description": "请求参数",
                        "name": "RequestParams",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/seamlessWallet.ResultReq"
                        }
                    }
                ],
                "responses": {
                    "0": {
                        "description": "",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/response.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/seamlessWallet.ResultAck"
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "response.Response": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "code 7 failed 0 success. 7失败 0成功",
                    "type": "integer"
                },
                "data": {
                    "description": "data. 结果数据"
                },
                "msg": {
                    "description": "message. 消息",
                    "type": "string"
                }
            }
        },
        "seamlessWallet.AuthReq": {
            "type": "object",
            "properties": {
                "providerId": {
                    "description": "通用参数 提供商id",
                    "type": "string",
                    "example": "HZ"
                },
                "sign": {
                    "description": "通用参数 签名",
                    "type": "string",
                    "example": "c8687876a15b93d1251c124dbe1837a6"
                },
                "timestamp": {
                    "description": "通用参数 时间戳",
                    "type": "string",
                    "example": "1612345678000"
                },
                "token": {
                    "description": "通用参数 运营商在OpenGame中提供的token",
                    "type": "string",
                    "example": "123456"
                }
            }
        },
        "seamlessWallet.BalanceReq": {
            "type": "object",
            "properties": {
                "playerName": {
                    "description": "玩家名称",
                    "type": "string",
                    "example": "test"
                },
                "providerId": {
                    "description": "通用参数 提供商id",
                    "type": "string",
                    "example": "HZ"
                },
                "sign": {
                    "description": "通用参数 签名",
                    "type": "string",
                    "example": "c8687876a15b93d1251c124dbe1837a6"
                },
                "timestamp": {
                    "description": "通用参数 时间戳",
                    "type": "string",
                    "example": "1612345678000"
                },
                "token": {
                    "description": "通用参数 运营商在OpenGame中提供的token",
                    "type": "string",
                    "example": "123456"
                }
            }
        },
        "seamlessWallet.BetAck": {
            "type": "object",
            "properties": {
                "agentTxid": {
                    "description": "运营商交易id",
                    "type": "string",
                    "example": "tx2"
                },
                "currency": {
                    "description": "货币类型",
                    "type": "string",
                    "example": "USD"
                },
                "playerBalance": {
                    "description": "玩家余额(扣款后)",
                    "type": "number",
                    "example": 800.85
                }
            }
        },
        "seamlessWallet.BetReq": {
            "type": "object",
            "properties": {
                "betAmount": {
                    "description": "下注总金额",
                    "type": "number",
                    "example": 10
                },
                "currency": {
                    "description": "货币类型",
                    "type": "string",
                    "example": "USD"
                },
                "gameId": {
                    "description": "游戏id",
                    "type": "integer",
                    "example": 1
                },
                "playerName": {
                    "description": "玩家在运营商系统中的唯一标识",
                    "type": "string",
                    "example": "test"
                },
                "providerId": {
                    "description": "通用参数 提供商id",
                    "type": "string",
                    "example": "HZ"
                },
                "sign": {
                    "description": "通用参数 签名",
                    "type": "string",
                    "example": "c8687876a15b93d1251c124dbe1837a6"
                },
                "timestamp": {
                    "description": "通用参数 时间戳",
                    "type": "string",
                    "example": "1612345678000"
                },
                "token": {
                    "description": "通用参数 运营商在OpenGame中提供的token",
                    "type": "string",
                    "example": "123456"
                },
                "transactionId": {
                    "description": "供应商交易id",
                    "type": "string",
                    "example": "tx1"
                },
                "updatedTime": {
                    "description": "更新时间戳",
                    "type": "integer",
                    "example": 1234567890123
                }
            }
        },
        "seamlessWallet.CloseGameParams": {
            "type": "object",
            "properties": {
                "agent": {
                    "description": "通用参数 运营商id",
                    "type": "string",
                    "example": "test"
                },
                "playerName": {
                    "description": "玩家在运营商系统中的唯一标识",
                    "type": "string",
                    "example": "test"
                },
                "sign": {
                    "description": "通用参数 签名",
                    "type": "string",
                    "example": "c623f86755262355f3b948ba96ae705e"
                },
                "timestamp": {
                    "description": "通用参数 时间戳",
                    "type": "string",
                    "example": "1612345678000"
                }
            }
        },
        "seamlessWallet.GameListParams": {
            "type": "object",
            "properties": {
                "agent": {
                    "description": "通用参数 运营商id",
                    "type": "string",
                    "example": "test"
                },
                "language": {
                    "description": "语言",
                    "type": "string",
                    "example": "en"
                },
                "sign": {
                    "description": "通用参数 签名",
                    "type": "string",
                    "example": "c623f86755262355f3b948ba96ae705e"
                },
                "timestamp": {
                    "description": "通用参数 时间戳",
                    "type": "string",
                    "example": "1612345678000"
                }
            }
        },
        "seamlessWallet.GameListRes": {
            "type": "object",
            "properties": {
                "demoAvailable": {
                    "description": "试玩模式是否可用",
                    "type": "boolean"
                },
                "gameId": {
                    "description": "游戏id",
                    "type": "string"
                },
                "icon": {
                    "description": "游戏图标",
                    "type": "string"
                },
                "name": {
                    "description": "游戏名称",
                    "type": "string"
                }
            }
        },
        "seamlessWallet.History": {
            "type": "object",
            "properties": {
                "agentTxid": {
                    "description": "运营商交易id",
                    "type": "string",
                    "example": "tx2"
                },
                "bet": {
                    "description": "下注金额",
                    "type": "number",
                    "example": 10
                },
                "currency": {
                    "description": "货币类型",
                    "type": "string",
                    "example": "USD"
                },
                "gameId": {
                    "description": "游戏id",
                    "type": "integer",
                    "example": 1
                },
                "playerAmount": {
                    "description": "玩家余额(返奖后)",
                    "type": "number",
                    "example": 800.85
                },
                "playerName": {
                    "description": "玩家在运营商系统中的唯一标识",
                    "type": "string",
                    "example": "test"
                },
                "status": {
                    "description": "状态 1:InProgress 2:Completed 3:CompleteInProcess 9:Canceled 10:CancelInProcess",
                    "type": "integer",
                    "example": 1
                },
                "transactionId": {
                    "description": "供应商交易id",
                    "type": "string",
                    "example": "tx1"
                },
                "winAmount": {
                    "description": "赢得金额",
                    "type": "number",
                    "example": 1
                }
            }
        },
        "seamlessWallet.HistoryListParams": {
            "type": "object",
            "properties": {
                "agent": {
                    "description": "通用参数 运营商id",
                    "type": "string",
                    "example": "test"
                },
                "date": {
                    "description": "日期",
                    "type": "string",
                    "example": "2020-01-01"
                },
                "gameId": {
                    "description": "游戏id",
                    "type": "integer",
                    "example": 1
                },
                "page": {
                    "description": "页码",
                    "type": "integer",
                    "example": 1
                },
                "playerName": {
                    "description": "玩家在运营商系统中的唯一标识",
                    "type": "string",
                    "example": "test"
                },
                "sign": {
                    "description": "通用参数 签名",
                    "type": "string",
                    "example": "c623f86755262355f3b948ba96ae705e"
                },
                "size": {
                    "description": "每页条数 最大100",
                    "type": "integer",
                    "example": 10
                },
                "timestamp": {
                    "description": "通用参数 时间戳",
                    "type": "string",
                    "example": "1612345678000"
                },
                "transactionId": {
                    "description": "供应商交易id",
                    "type": "string",
                    "example": "tx1"
                }
            }
        },
        "seamlessWallet.OpenGameParams": {
            "type": "object",
            "properties": {
                "agent": {
                    "description": "通用参数 运营商id",
                    "type": "string",
                    "example": "test"
                },
                "cashierUrl": {
                    "description": "破产之后弹出的充值⻚⾯",
                    "type": "string",
                    "example": "https://www.google.com"
                },
                "currency": {
                    "description": "货币类型 USD",
                    "type": "string",
                    "example": "USD"
                },
                "demo": {
                    "description": "是否为试玩模式",
                    "type": "boolean"
                },
                "gameId": {
                    "description": "游戏id",
                    "type": "string",
                    "example": "1"
                },
                "language": {
                    "description": "语言 en",
                    "type": "string",
                    "example": "en"
                },
                "lobbyUrl": {
                    "description": "返回按钮的对应连接",
                    "type": "string",
                    "example": "https://www.google.com"
                },
                "sign": {
                    "description": "通用参数 签名",
                    "type": "string",
                    "example": "c623f86755262355f3b948ba96ae705e"
                },
                "timestamp": {
                    "description": "通用参数 时间戳",
                    "type": "string",
                    "example": "1612345678000"
                },
                "token": {
                    "description": "由运营商提供的token，⽤于在Authenticate⾥ 进⾏验证",
                    "type": "string",
                    "example": "test_token"
                }
            }
        },
        "seamlessWallet.PlayerAmount": {
            "type": "object",
            "properties": {
                "currency": {
                    "description": "货币",
                    "type": "string",
                    "example": "USD"
                },
                "playerBalance": {
                    "description": "玩家余额",
                    "type": "number",
                    "example": 800.85
                },
                "playerName": {
                    "description": "玩家名称",
                    "type": "string",
                    "example": "1"
                }
            }
        },
        "seamlessWallet.RefundAck": {
            "type": "object",
            "properties": {
                "currency": {
                    "description": "AgentTxid string `json:\"agentTxid\" example:\"tx3\"` // 运营商内部的流水id",
                    "type": "string",
                    "example": "USD"
                },
                "playerBalance": {
                    "description": "玩家余额(退款后)",
                    "type": "number",
                    "example": 800.85
                }
            }
        },
        "seamlessWallet.RefundReq": {
            "type": "object",
            "properties": {
                "agentTxid": {
                    "description": "运营商交易id",
                    "type": "string",
                    "example": "tx3"
                },
                "betAmount": {
                    "description": "下注总金额",
                    "type": "number",
                    "example": 10
                },
                "gameId": {
                    "description": "游戏id",
                    "type": "integer",
                    "example": 1
                },
                "playerName": {
                    "description": "玩家在运营商系统中的唯一标识",
                    "type": "string",
                    "example": "test"
                },
                "providerId": {
                    "description": "通用参数 提供商id",
                    "type": "string",
                    "example": "HZ"
                },
                "sign": {
                    "description": "通用参数 签名",
                    "type": "string",
                    "example": "c8687876a15b93d1251c124dbe1837a6"
                },
                "timestamp": {
                    "description": "通用参数 时间戳",
                    "type": "string",
                    "example": "1612345678000"
                },
                "token": {
                    "description": "通用参数 运营商在OpenGame中提供的token",
                    "type": "string",
                    "example": "123456"
                },
                "transactionId": {
                    "description": "供应商交易id",
                    "type": "string",
                    "example": "tx1"
                },
                "updatedTime": {
                    "description": "更新时间戳",
                    "type": "integer",
                    "example": 1234567890123
                }
            }
        },
        "seamlessWallet.ResultAck": {
            "type": "object",
            "properties": {
                "agentTxid": {
                    "description": "运营商交易id",
                    "type": "string",
                    "example": "tx3"
                },
                "currency": {
                    "description": "货币类型",
                    "type": "string",
                    "example": "USD"
                },
                "playerBalance": {
                    "description": "玩家余额(扣款后)",
                    "type": "number",
                    "example": 800.85
                }
            }
        },
        "seamlessWallet.ResultReq": {
            "type": "object",
            "properties": {
                "agentTxid": {
                    "description": "运营商交易id",
                    "type": "string",
                    "example": "tx2"
                },
                "betAmount": {
                    "description": "下注总金额",
                    "type": "number",
                    "example": 10
                },
                "currency": {
                    "description": "货币类型",
                    "type": "string",
                    "example": "USD"
                },
                "gameId": {
                    "description": "机台id",
                    "type": "integer",
                    "example": 1
                },
                "playerName": {
                    "description": "玩家在运营商系统中的唯一标识",
                    "type": "string",
                    "example": "test"
                },
                "providerId": {
                    "description": "通用参数 提供商id",
                    "type": "string",
                    "example": "HZ"
                },
                "sign": {
                    "description": "通用参数 签名",
                    "type": "string",
                    "example": "c8687876a15b93d1251c124dbe1837a6"
                },
                "timestamp": {
                    "description": "通用参数 时间戳",
                    "type": "string",
                    "example": "1612345678000"
                },
                "token": {
                    "description": "通用参数 运营商在OpenGame中提供的token",
                    "type": "string",
                    "example": "123456"
                },
                "transactionId": {
                    "description": "供应商交易id",
                    "type": "string",
                    "example": "tx1"
                },
                "updatedTime": {
                    "description": "更新时间戳",
                    "type": "integer",
                    "example": 1234567890123
                },
                "winAmount": {
                    "description": "赢得金额",
                    "type": "number",
                    "example": 1
                }
            }
        }
    },
    "tags": [
        {
            "description": "供应商提供的的接口",
            "name": "Seamless-Provider"
        },
        {
            "description": "运营商需实现的接口",
            "name": "Seamless-Operator"
        }
    ]
}